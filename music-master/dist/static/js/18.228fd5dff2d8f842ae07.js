webpackJsonp([18],{"9Yk3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("IQww"),o=n("Zrlr"),r=n.n(o),a=n("wxAW"),s=n.n(a),c=function(){function e(){r()(this,e)}return s()(e,null,[{key:"findMesh",value:function(e,t){return e.children.find(function(e){return e.name===t})}}]),e}(),u=window.TweenMax,l=function(){function e(){r()(this,e),this.cat=null,this.t=0,this.timer=0,this.animation=!1}return s()(e,[{key:"destroyed",value:function(){clearInterval(this.timer)}},{key:"setAnimotion",value:function(e){this.animation=e}},{key:"init",value:function(e){if(e){this.cat=e;var t=this;this.timer=setInterval(function(){t.blink(),t.updataHead()},2e3)}}},{key:"blink",value:function(){if(this.cat){var e=c.findMesh(this.cat,"head"),t=c.findMesh(e,"rightEye"),n=c.findMesh(e,"leftEye");switch(this.randomNum(1,3)){case 1:u.to(t.scale,.07,{y:0,yoyo:!0,repeat:1});break;case 2:u.to(n.scale,.07,{y:0,yoyo:!0,repeat:1});break;case 3:u.to(t.scale,.07,{y:0,yoyo:!0,repeat:1}),u.to(n.scale,.07,{y:0,yoyo:!0,repeat:1})}}}},{key:"updateTail",value:function(e){if(this.cat&&this.animation){this.t+=e;for(var t=[],n=c.findMesh(this.cat,"tail"),i=0;i<7;i++){var o=c.findMesh(n,"t"+i);t.push(o),n=o}for(var r=0;r<t.length;r++){var a=Math.pow(.8,r),s=Math.sin(this.t)*(a/2);t[r].rotation.z=s}}}},{key:"updataHead",value:function(){if(this.cat&&this.animation){var e=c.findMesh(this.cat,"head");u.to(e.rotation,1,{z:-.5}),setTimeout(function(){u.to(e.rotation,1,{z:.5})},1e3)}}},{key:"randomNum",value:function(e,t){switch(arguments.length){case 1:return parseInt(Math.random()*e+1,10);case 2:return parseInt(Math.random()*(t-e+1)+e,10);default:return 0}}}]),e}(),h=n("Zx67"),d=n.n(h),f=n("zwoO"),v=n.n(f),p=n("yEsh"),m=n.n(p),y=n("Pf15"),w=n.n(y),_=new(function(e){function t(){return r()(this,t),v()(this,(t.__proto__||d()(t)).call(this))}return w()(t,e),s()(t,[{key:"initCamera",value:function(){m()(t.prototype.__proto__||d()(t.prototype),"initCamera",this).call(this),this.camera.position.set(0,25,-250),this.camera.rotation.set(-3,0,-179.08)}},{key:"initLight",value:function(){var e=new THREE.HemisphereLight(16777215,16777215,2.5);e.name="hemisphereLight",e.position.set(0,0,0),this.scene.add(e),this.render.setClearColor("#6ecccc",1)}}]),t}(n("GBbP").a));window.lmthree=_;var b=null,k=null,M={data:function(){return{cat:new l,isInit:!1}},mounted:function(){b=this,b=this;_.init({renderOption:{canvasFatherId:"canvasFather"}}),_.load({name:"cat.json"}),i.a.registAnimationFrame(this.loop,"cat")},destroyed:function(){i.a.stopAnimationFrame(),_.uninstall(),this.cat.destroyed()},methods:{loop:function(){if(_.rendering(),i.a.lmaudio.subject.playing){b.cat.setAnimotion(!0);var e=i.a.lmaudio.getAverageFrequency();(k=c.findMesh(_.scene,"cat"))&&!1===b.isInit&&(b.cat.init(k),b.isInit=!0),b.isInit&&k&&b.cat.updateTail(e/1e3)}else b.cat.setAnimotion(!1)}}},O={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{attrs:{id:"canvasFather"}})])}]};var g=n("VU/8")(M,O,!1,function(e){n("hDkg")},null,null);t.default=g.exports},GBbP:function(e,t,n){"use strict";var i=n("Zrlr"),o=n.n(i),r=n("wxAW"),a=n.n(r),s=window.THREE,c=null,u=function(){function e(){o()(this,e),this.scene=null,this.camera=null,this.render=null,this.control=null,this.loader=null,this.canvasFatherId="",this.size={w:0,h:0},c=this}return a()(e,[{key:"initScene",value:function(){this.scene=new s.Scene,this.scene.name="scene"}},{key:"initCamera",value:function(){this.camera=new s.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),this.size.w=window.innerWidth,this.size.h=window.innerHeight,this.camera.name="2camera",this.camera.lookAt(new s.Vector3(0,0,0))}},{key:"initLight",value:function(){}},{key:"initRender",value:function(e){this.canvasFatherId=e,this.render=new s.WebGLRenderer({alpha:!0,antialias:!0}),this.render.shadowMap.enabled=!0,this.render.shadowMap.type=s.PCFSoftShadowMap,this.render.setSize(this.size.w,this.size.h),document.getElementById(e).appendChild(this.render.domElement),this.render.setPixelRatio(window.devicePixelRatio)}},{key:"initControl",value:function(){this.control=new s.OrbitControls(this.camera,this.render.domElement),this.control.autoRotate=!1,this.control.enabled=!0}},{key:"initObjects",value:function(){}},{key:"setObject",value:function(e){switch(e.name){case"camera":this.camera=e.value}}},{key:"rendering",value:function(){this.render.render(this.scene,this.camera),this.control.update()}},{key:"init",value:function(e){e.sceneOption;var t=e.renderOption;e.cameraOption;this.initScene(),this.initRender(t.canvasFatherId),this.initCamera(),this.initLight(),this.initControl(),this.initObjects(),window.camera=this.camera,window.scene=this.scene,window.addEventListener("resize",this.onWindowResize,!1)}},{key:"onWindowResize",value:function(){c.render.setSize(c.size.w,c.size.h)}},{key:"uninstall",value:function(){for(var e=this.scene.children,t=0;t<e.length;t++)this.scene.remove(e[t])}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,i=void 0===n?"./static/models/":n,o=t.name,r=void 0===o?"model.json":o;this.loader=new s.ObjectLoader,this.loader.setPath(i),this.loader.load(r,function(t){e.scene.add(t)},void 0,function(e){console.error(e)})}}]),e}();t.a=u},K6ED:function(e,t,n){e.exports={default:n("cnlX"),__esModule:!0}},Kh5d:function(e,t,n){var i=n("sB3e"),o=n("PzxK");n("uqUo")("getPrototypeOf",function(){return function(e){return o(i(e))}})},OvRC:function(e,t,n){e.exports={default:n("oM7Q"),__esModule:!0}},Pf15:function(e,t,n){"use strict";t.__esModule=!0;var i=a(n("kiBT")),o=a(n("OvRC")),r=a(n("pFYg"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,r.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},ZaQb:function(e,t,n){var i=n("EqjI"),o=n("77Pl"),r=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n("+ZMJ")(Function.call,n("LKZe").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:r}},Zx67:function(e,t,n){e.exports={default:n("fS6E"),__esModule:!0}},cnlX:function(e,t,n){n("iInB");var i=n("FeBl").Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}},exh5:function(e,t,n){var i=n("kM2E");i(i.S,"Object",{setPrototypeOf:n("ZaQb").set})},fS6E:function(e,t,n){n("Kh5d"),e.exports=n("FeBl").Object.getPrototypeOf},hDkg:function(e,t){},"i/C/":function(e,t,n){n("exh5"),e.exports=n("FeBl").Object.setPrototypeOf},iInB:function(e,t,n){var i=n("TcQ7"),o=n("LKZe").f;n("uqUo")("getOwnPropertyDescriptor",function(){return function(e,t){return o(i(e),t)}})},kiBT:function(e,t,n){e.exports={default:n("i/C/"),__esModule:!0}},oM7Q:function(e,t,n){n("sF+V");var i=n("FeBl").Object;e.exports=function(e,t){return i.create(e,t)}},"sF+V":function(e,t,n){var i=n("kM2E");i(i.S,"Object",{create:n("Yobk")})},uqUo:function(e,t,n){var i=n("kM2E"),o=n("FeBl"),r=n("S82l");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*r(function(){n(1)}),"Object",a)}},yEsh:function(e,t,n){"use strict";t.__esModule=!0;var i=r(n("Zx67")),o=r(n("K6ED"));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,r){null===t&&(t=Function.prototype);var a=(0,o.default)(t,n);if(void 0===a){var s=(0,i.default)(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var c=a.get;return void 0!==c?c.call(r):void 0}},zwoO:function(e,t,n){"use strict";t.__esModule=!0;var i,o=n("pFYg"),r=(i=o)&&i.__esModule?i:{default:i};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}}});
//# sourceMappingURL=18.228fd5dff2d8f842ae07.js.map