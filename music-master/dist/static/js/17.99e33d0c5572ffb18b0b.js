webpackJsonp([17],{"57dH":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("IQww"),o=n("Zx67"),r=n.n(o),a=n("Zrlr"),s=n.n(a),c=n("wxAW"),u=n.n(c),l=n("zwoO"),h=n.n(l),d=n("yEsh"),f=n.n(d),v=n("Pf15"),p=n.n(v),w=n("GBbP"),m=(window.TweenMax,new(function(e){function t(){s()(this,t);var e=h()(this,(t.__proto__||r()(t)).call(this));return e.object={},e.backgroundColor=13421772,e.ambientLightColor=16777215,e.spotLightColor=16777215,e.boxColor=1729517,e.box={size:1,height:5},e.gridSize=20,e.col=e.gridSize,e.row=e.gridSize,e.boxes=[],e.angle=0,e.amplitude=-.8,e.waveLength=200,e}return p()(t,e),u()(t,[{key:"initCamera",value:function(){var e=new THREE.PerspectiveCamera(30,window.innerWidth/window.innerHeight,1,1e3);e.position.set(49,155,-77),e.rotation.set(-2,0,2.5),e.name="camera",this.setObject({name:"camera",value:e})}},{key:"helper",value:function(){var e=new THREE.AxesHelper(20);this.scene.add(e)}},{key:"initScene",value:function(){f()(t.prototype.__proto__||r()(t.prototype),"initScene",this).call(this),this.scene.background=new THREE.Color(this.backgroundColor)}},{key:"initLight",value:function(){var e=new THREE.AmbientLight(this.ambientLightColor,1.5);this.scene.add(e),e.name="light",this.scene.add(e);var t=new THREE.SpotLight(this.spotLightColor,1.8);t.position.set(100,69,50),t.castShadow=!1,t.name="spotLight",t.distance=1e3,this.scene.add(t)}},{key:"addBoxes",value:function(e){for(var t=this.box.size,n=this.box.height,i=new THREE.BoxGeometry(t,n,t),o=new THREE.MeshPhysicalMaterial({color:this.boxColor,emissive:0,roughness:1,metalness:.1,reflectivity:.5}),r=0;r<this.col;r+=t){this.boxes[r]=[];for(var a=0;a<this.row;a+=t){var s=new THREE.Mesh(i,o);s.castShadow=!1,s.receiveShadow=!1,s.position.y=n/2;var c=new THREE.Group;c.add(s),c.scale.set(1,.001,1),this.boxes[r][a]=c,c.position.set(r-.5*this.gridSize,0,a-.5*this.gridSize),e.add(c)}}console.log(this.boxes)}},{key:"drawWave",value:function(e){for(var t=this.box.size,n=0;n<this.col;n+=t)for(var i=0;i<this.row;i+=t){var o=this.boxes[n][i].position.x,r=this.boxes[n][i].position.z,a=this.distance(o,r,0,0),s=this.map(a,0,this.waveLength,0,50),c=this.angle+s;this.boxes[n][i].scale.y=this.map(Math.sin(c),-1,1,.1,1)}this.angle+=e/400}},{key:"distance",value:function(e,t,n,i){return Math.sqrt(Math.pow(e-n,2)+Math.pow(t-i,2))}},{key:"map",value:function(e,t,n,i,o){return(e-t)/(n-t)*(o-i)+i}},{key:"initObjects",value:function(){this.addBoxes(this.scene),this.helper()}},{key:"initControl",value:function(){f()(t.prototype.__proto__||r()(t.prototype),"initControl",this).call(this),this.control.enabled=!0}}]),t}(w.a)));window.lmthree=m;var y={data:function(){return{showOffline:"dev"===i.a.lmaudio.mode}},mounted:function(){this;m.init({renderOption:{canvasFatherId:"canvasFather"}}),i.a.registAnimationFrame(this.loop,"wave")},destroyed:function(){i.a.stopAnimationFrame(),m.uninstall()},methods:{loop:function(){if(m.rendering(),i.a.lmaudio.subject.playing){var e=i.a.lmaudio.getAverageFrequency();m.drawWave(e)}},fileImport:function(){var e=document.getElementById("files").files[0];i.a.lmaudio.loadAudioLocal(e)}}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[this.showOffline?t("input",{staticClass:"localFile",attrs:{type:"file",id:"files"},on:{change:this.fileImport}}):this._e(),this._v(" "),t("div",{attrs:{id:"canvasFather"}})])},staticRenderFns:[]};var _=n("VU/8")(y,b,!1,function(e){n("fVDV")},null,null);t.default=_.exports},GBbP:function(e,t,n){"use strict";var i=n("Zrlr"),o=n.n(i),r=n("wxAW"),a=n.n(r),s=window.THREE,c=null,u=function(){function e(){o()(this,e),this.scene=null,this.camera=null,this.render=null,this.control=null,this.loader=null,this.canvasFatherId="",this.size={w:0,h:0},c=this}return a()(e,[{key:"initScene",value:function(){this.scene=new s.Scene,this.scene.name="scene"}},{key:"initCamera",value:function(){this.camera=new s.PerspectiveCamera(45,window.innerWidth/window.innerHeight,.1,1e3),this.size.w=window.innerWidth,this.size.h=window.innerHeight,this.camera.name="2camera",this.camera.lookAt(new s.Vector3(0,0,0))}},{key:"initLight",value:function(){}},{key:"initRender",value:function(e){this.canvasFatherId=e,this.render=new s.WebGLRenderer({alpha:!0,antialias:!0}),this.render.shadowMap.enabled=!0,this.render.shadowMap.type=s.PCFSoftShadowMap,this.render.setSize(this.size.w,this.size.h),document.getElementById(e).appendChild(this.render.domElement),this.render.setPixelRatio(window.devicePixelRatio)}},{key:"initControl",value:function(){this.control=new s.OrbitControls(this.camera,this.render.domElement),this.control.autoRotate=!1,this.control.enabled=!0}},{key:"initObjects",value:function(){}},{key:"setObject",value:function(e){switch(e.name){case"camera":this.camera=e.value}}},{key:"rendering",value:function(){this.render.render(this.scene,this.camera),this.control.update()}},{key:"init",value:function(e){e.sceneOption;var t=e.renderOption;e.cameraOption;this.initScene(),this.initRender(t.canvasFatherId),this.initCamera(),this.initLight(),this.initControl(),this.initObjects(),window.camera=this.camera,window.scene=this.scene,window.addEventListener("resize",this.onWindowResize,!1)}},{key:"onWindowResize",value:function(){c.render.setSize(c.size.w,c.size.h)}},{key:"uninstall",value:function(){for(var e=this.scene.children,t=0;t<e.length;t++)this.scene.remove(e[t])}},{key:"load",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.path,i=void 0===n?"./static/models/":n,o=t.name,r=void 0===o?"model.json":o;this.loader=new s.ObjectLoader,this.loader.setPath(i),this.loader.load(r,function(t){e.scene.add(t)},void 0,function(e){console.error(e)})}}]),e}();t.a=u},K6ED:function(e,t,n){e.exports={default:n("cnlX"),__esModule:!0}},Kh5d:function(e,t,n){var i=n("sB3e"),o=n("PzxK");n("uqUo")("getPrototypeOf",function(){return function(e){return o(i(e))}})},OvRC:function(e,t,n){e.exports={default:n("oM7Q"),__esModule:!0}},Pf15:function(e,t,n){"use strict";t.__esModule=!0;var i=a(n("kiBT")),o=a(n("OvRC")),r=a(n("pFYg"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,r.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(i.default?(0,i.default)(e,t):e.__proto__=t)}},ZaQb:function(e,t,n){var i=n("EqjI"),o=n("77Pl"),r=function(e,t){if(o(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=n("+ZMJ")(Function.call,n("LKZe").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return r(e,n),t?e.__proto__=n:i(e,n),e}}({},!1):void 0),check:r}},Zx67:function(e,t,n){e.exports={default:n("fS6E"),__esModule:!0}},cnlX:function(e,t,n){n("iInB");var i=n("FeBl").Object;e.exports=function(e,t){return i.getOwnPropertyDescriptor(e,t)}},exh5:function(e,t,n){var i=n("kM2E");i(i.S,"Object",{setPrototypeOf:n("ZaQb").set})},fS6E:function(e,t,n){n("Kh5d"),e.exports=n("FeBl").Object.getPrototypeOf},fVDV:function(e,t){},"i/C/":function(e,t,n){n("exh5"),e.exports=n("FeBl").Object.setPrototypeOf},iInB:function(e,t,n){var i=n("TcQ7"),o=n("LKZe").f;n("uqUo")("getOwnPropertyDescriptor",function(){return function(e,t){return o(i(e),t)}})},kiBT:function(e,t,n){e.exports={default:n("i/C/"),__esModule:!0}},oM7Q:function(e,t,n){n("sF+V");var i=n("FeBl").Object;e.exports=function(e,t){return i.create(e,t)}},"sF+V":function(e,t,n){var i=n("kM2E");i(i.S,"Object",{create:n("Yobk")})},uqUo:function(e,t,n){var i=n("kM2E"),o=n("FeBl"),r=n("S82l");e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),i(i.S+i.F*r(function(){n(1)}),"Object",a)}},yEsh:function(e,t,n){"use strict";t.__esModule=!0;var i=r(n("Zx67")),o=r(n("K6ED"));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,r){null===t&&(t=Function.prototype);var a=(0,o.default)(t,n);if(void 0===a){var s=(0,i.default)(t);return null===s?void 0:e(s,n,r)}if("value"in a)return a.value;var c=a.get;return void 0!==c?c.call(r):void 0}},zwoO:function(e,t,n){"use strict";t.__esModule=!0;var i,o=n("pFYg"),r=(i=o)&&i.__esModule?i:{default:i};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}}});
//# sourceMappingURL=17.99e33d0c5572ffb18b0b.js.map